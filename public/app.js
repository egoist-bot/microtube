webpackJsonp([1],{0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var c=a(257),u=r(c),i=a(29),s=a(150),l=n(s),o=a(149),d=n(o),f=ReactRedux,p=f.Provider,m=(0,l.default)(window.INITIAL_STATE);u.install(),document.addEventListener("DOMContentLoaded",function(){ReactDOM.render(React.createElement(p,{store:m},React.createElement(i.Router,{history:i.browserHistory,routes:(0,d.default)(m)})),document.querySelector(".app"),function(){return document.querySelector(".app-loader").classList.remove("app-loader--active")})})},7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=this;return function(){var n=(0,v.default)(p.default.mark(function n(r){var c;return p.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:"GET_PLAYLISTS"}),a.prev=1,a.next=4,_.default.getPlaylists(e,t);case 4:c=a.sent,r({type:"GET_PLAYLISTS_SUCCESS",data:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),r({type:"NOTIFY",data:"Error fetching playlists."});case 11:case"end":return a.stop()}},n,a,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()}function c(e,t){var a=this;return function(){var n=(0,v.default)(p.default.mark(function n(r){var c;return p.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.default.getPlaylistTitle(e,[t]);case 3:c=a.sent,r({type:"GET_PLAYLIST_TITLE",data:c}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),r({type:"NOTIFY",data:"Error fetching playlist title."});case 10:case"end":return a.stop()}},n,a,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()}function u(e,t,a){var n=this;return function(){var r=(0,v.default)(p.default.mark(function r(c){var u;return p.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:"GET_PLAYLIST"}),n.prev=1,n.next=4,_.default.getPlaylistItems(e,t,a);case 4:u=n.sent,c({type:"GET_PLAYLIST_SUCCESS",data:u}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),c({type:"NOTIFY",data:"Error fetching playlist items."});case 11:case"end":return n.stop()}},r,n,[[1,8]])}));return function(e){return r.apply(this,arguments)}}()}function i(e){var t=this,a=e.accessToken,n=e.playlistId,r=(e.queue,e.play);return console.log("queue playlist ?"),function(e){var c=function(){var u=(0,v.default)(p.default.mark(function u(i){var s,l,o;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.default.getPlaylistItems(a,n,i);case 3:s=t.sent,l=s.items,o=s.nextPageToken,r&&!i&&l.length>0&&(e({type:"QUEUE_SET_ACTIVE_ITEM",data:{video:l[0]}}),l.shift()),e({type:"QUEUE_PUSH",data:l}),o&&c(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e({type:"NOTIFY",data:"Error fetching playlist items."});case 14:case"end":return t.stop()}},u,t,[[0,11]])}));return function(e){return u.apply(this,arguments)}}();c()}}function s(e,t,a){var n=this;return function(){var r=(0,v.default)(p.default.mark(function r(c){var u;return p.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:"SEARCH_VIDEOS",data:{query:t}}),n.prev=1,n.next=4,_.default.searchVideos(e,t,a);case 4:u=n.sent,c({type:"SEARCH_VIDEOS_SUCCESS",data:u}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),c({type:"NOTIFY",data:"Error searching videos."});case 12:case"end":return n.stop()}},r,n,[[1,8]])}));return function(e){return r.apply(this,arguments)}}()}function l(e,t){var a=this;return function(){var n=(0,v.default)(p.default.mark(function n(r){var c;return p.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.default.getVideo(e,t);case 3:c=a.sent,r({type:"QUEUE_PUSH",data:[c]}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),r({type:"NOTIFY",data:"Error fetching video."});case 10:case"end":return a.stop()}},n,a,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()}function o(e,t){var a=this;return function(){var n=(0,v.default)(p.default.mark(function n(r){var c;return p.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:"GET_SUBSCRIPTIONS"}),a.prev=1,a.next=4,_.default.getSubscriptions(e,t);case 4:c=a.sent,r({type:"GET_SUBSCRIPTIONS_SUCCESS",data:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),r({type:"NOTIFY",data:"Error fetching subscriptions."});case 11:case"end":return a.stop()}},n,a,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()}function d(e,t,a){var n=this;return function(){var r=(0,v.default)(p.default.mark(function r(c){var u;return p.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:"GET_CHANNEL_VIDEOS"}),n.prev=1,n.next=4,_.default.getChannelVideos(e,t,a);case 4:u=n.sent,c({type:"GET_CHANNEL_VIDEOS_SUCCESS",data:u}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),c({type:"NOTIFY",data:"Error fetching channel videos."});case 11:case"end":return n.stop()}},r,n,[[1,8]])}));return function(e){return r.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var f=a(48),p=n(f),m=a(38),v=n(m);t.getPlaylists=r,t.getPlaylistTitle=c,t.getPlaylistItems=u,t.queuePlaylist=i,t.searchVideos=s,t.getVideo=l,t.getSubscriptions=o,t.getChannelVideos=d;var h=a(126),_=n(h)},57:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(80),c=n(r),u=a(83),i=n(u),s=a(84),l=n(s),o=ReactRedux,d=o.connect,f=function(e){var t=(e.player,e.video),a=e.dispatch,n=(t.videoId,t.title),r=t.thumbnails,u=t.publishedAt,s=t.duration,o=t.channelTitle;return React.createElement("div",{className:"card shadow--2dp"},React.createElement("div",{className:"card__content",onClick:function(){return a({type:"QUEUE_SET_ACTIVE_ITEM",data:{video:t}})}},React.createElement(c.default,{src:(0,i.default)(r),background:!0}),React.createElement("div",{className:"card__text"},React.createElement("h2",{className:"card__text-title"},n),React.createElement("p",{className:"card__text-subtitle channel"},o),React.createElement("p",{className:"card__text-subtitle date"},moment(u).format("MMMM Do YYYY"))),React.createElement("div",null,(0,l.default)(s))),React.createElement("div",{className:"card__buttons"},React.createElement("button",{className:"card__button icon-button",onClick:function(){return a({type:"QUEUE_PUSH",data:[t]})}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-playlist-add"}))))))},p=function(e){var t=e.player;return{player:t}};t.default=d(p)(f)},79:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return new _.default(function(a,n){var r={client_id:e.clientId,redirect_uri:e.redirectUri,scope:e.scope,display:"popup",response_type:"code",access_type:"offline",prompt:"consent"},c=e.authorizationUrl+"?"+R.default.stringify(r);a({url:c,config:e,dispatch:t})})}function c(e){var t=e.url,a=e.config,n=e.dispatch;return new _.default(function(e,r){var c=a.width||500,u=a.height||500,i={width:c,height:u,top:window.screenY+(window.outerHeight-u)/2.5,left:window.screenX+(window.outerWidth-c)/2},s=window.open(t,"_blank",R.default.stringify(i,","));"about:blank"===t&&(s.document.body.innerHTML="Loading..."),e({popup:s,config:a,dispatch:n})})}function u(e){var t=e.popup,a=e.config,n=e.requestToken,r=e.dispatch;return new _.default(function(e,c){var u=g.default.parse(a.redirectUri),i=u.host+u.pathname;n&&(t.location=a.authorizationUrl+"?"+R.default.stringify(n));var s=setInterval(function(){t&&!t.closed||clearInterval(s);try{var n=t.location.host+t.location.pathname;if(n===i)if(t.location.search||t.location.hash){var c=R.default.parse(t.location.search.substring(1).replace(/\/$/,"")),u=R.default.parse(t.location.hash.substring(1).replace(/[\/$]/,"")),l=(0,p.default)({},c,u);l.error?r({type:"NOTIFY",data:l.error}):e({oauthData:l,config:a,popup:t,interval:s,dispatch:r})}else r({type:"NOTIFY",data:"OAuth redirect has occurred but no query or hash parameters were found."})}catch(e){}},500)})}function i(e){var t=e.oauthData,a=e.config,n=e.popup,r=e.interval,c=e.dispatch;return new _.default(function(e,u){var i=(0,p.default)({},t,a);return fetch(a.url,{method:"post",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:(0,v.default)(i)}).then(function(t){t.ok?t.json().then(function(t){var a=t.token,u=t.refresh,i=t.user;return e({token:a,refresh:u,user:i,popup:n,interval:r,dispatch:c})}):t.json().then(function(e){c({type:"NOTIFY",data:e.message}),o({popup:n,interval:r})})})})}function s(e,t){fetch(window.location.origin+"/auth/refresh",{method:"post",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:(0,v.default)({refresh_token:e})}).then(function(e){e.ok&&e.json().then(function(e){var a=e.token;return t(a)})})}function l(e){var t=e.token,a=e.refresh,n=e.user,r=e.popup,c=e.interval,u=e.dispatch;return new _.default(function(e,i){var l=setInterval(function(){s(a,function(e){e&&(console.log("refresh",e),u({type:"OAUTH_REFRESH",data:e}))})},354e4);u({type:"OAUTH_SUCCESS",data:{token:t,refresh:a,user:n,refreshWatcher:l}}),e({popup:r,interval:c})})}function o(e){var t=e.popup,a=e.interval;return new _.default(function(e,n){clearInterval(a),t.close(),e()})}function d(){var e={url:window.location.origin+"/auth",clientId:"440745412600-snpeajuh0l9tqfrt356mec6j3mdn8eoo.apps.googleusercontent.com",redirectUri:window.location.origin+"/auth/callback",authorizationUrl:"https://accounts.google.com/o/oauth2/auth",scope:"openid profile email https://www.googleapis.com/auth/youtube",width:440,height:540};return function(t){r(e,t).then(c).then(u).then(i).then(l).then(o)}}Object.defineProperty(t,"__esModule",{value:!0});var f=a(85),p=n(f),m=a(164),v=n(m),h=a(15),_=n(h);t.refreshAccessToken=s,t.logIn=d;var E=a(315),g=n(E),y=a(112),R=n(y),b=a(265);n(b)},80:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(15),c=n(r),u=a(37),i=n(u),s=a(31),l=n(s),o=a(39),d=n(o),f=a(41),p=n(f),m=a(40),v=n(m),h=function(e){function t(e){(0,l.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.loadImage=function(e){return new c.default(function(t,a){var n=new Image;n.onload=function(){return t(n)},n.onerror=function(e){return a(console.error("Error: ",e))},n.src=e})},a.state={isLoaded:!1},a}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadImage(this.props.src).then(function(){e.setState({isLoaded:!0})})}},{key:"render",value:function(){var e=this.state.isLoaded,t=this.props,a=(t.className,t.src),n=t.alt,r=void 0===n?"image":n,c=t.background;return React.createElement("figure",{className:["image",e?"loaded":""].join(" ")},c?React.createElement("div",{className:"image-background",style:{backgroundImage:"url("+a+")"}}):React.createElement("img",{src:a,alt:r}),React.createElement("span",{className:"image-loader"},React.createElement("svg",{className:"rotating"},React.createElement("use",{xlinkHref:"#icon-loading"}))))}}]),t}(React.Component);t.default=h},81:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(7),r=ReactRedux,c=r.connect,u=function(e){function t(e){e.preventDefault(),e.target.parentNode.classList.add("is-focused")}function a(e){e.preventDefault(),e.target.parentNode.classList.remove("is-focused")}function r(e){var t=e.target.querySelector("#search").value;e.preventDefault(),u((0,n.searchVideos)(c.token,t))}var c=(e.menu,e.auth),u=e.dispatch;return React.createElement("form",{className:"search-form",onSubmit:r},React.createElement("div",{className:"textfield"},React.createElement("input",{autoFocus:!0,className:"textfield__input",id:"search",type:"text",placeholder:"Search...",onFocus:t,onBlur:a})))},i=function(e){var t=e.auth;return{auth:t}};t.default=c(i)(u)},82:function(e,t){"use strict";function a(e){var t=void 0,a=void 0,n=0;return t=Math.floor(e/3600)%24,e-=3600*t,a=Math.floor(e/60)%60,e-=60*a,n=Math.floor(e),[t,a,n].map(function(e){return("0"+e).slice(-2)}).join(":")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},83:function(e,t){"use strict";function a(e,t){return t?e[t].url:e.highres?e.highres.url:e.standard?e.standard.url:e.medium?e.medium.url:e.high?e.high.url:e.default.url}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},84:function(e,t){"use strict";function a(e){for(var t=e.match(/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)W)?(?:(\d*)D)?T?(?:(\d*)H)?(?:(\d*)M)?(?:(\d*)S)?/i),a=[{pos:1,multiplier:31536e3},{pos:2,multiplier:2592e3},{pos:3,multiplier:604800},{pos:4,multiplier:86400},{pos:5,multiplier:3600},{pos:6,multiplier:60},{pos:7,multiplier:1}],n=[],r=0,c=0;c<a.length;c++)"undefined"!=typeof t[a[c].pos]&&(r+=parseInt(t[a[c].pos])*a[c].multiplier);return r>3599&&(n.push(parseInt(r/3600)),r%=3600),n.push(("0"+parseInt(r/60)).slice(-2)),n.push(("0"+r%60).slice(-2)),n.join(":")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},126:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="";return e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/),void 0!==e[2]?(t=e[2].split(/[^0-9a-z_\-]/i),t=t[0]):t=e.toString(),t}Object.defineProperty(t,"__esModule",{value:!0});var c=a(48),u=n(c),i=a(8),s=n(i),l=a(38),o=n(l),d=a(15),f=n(d),p=a(31),m=n(p),v="AIzaSyCLDBo0aNwTTOp6yQMaD9b4mQX4B_rT2NE",h=20,_=function e(){var t=this;(0,m.default)(this,e),this.callApi=function(e,a,n){return new f.default(function(){var e=(0,o.default)(u.default.mark(function e(r,c){var i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadApi();case 2:i=e.sent,i[a].list((0,s.default)({},n,{key:v})).execute(function(e){return e.error?c(e.message):r(e)});case 4:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}())},this.list=function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.callApi.apply(t,["list"].concat(a))},this.remove=function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.callApi.apply(t,["delete"].concat(a))},this.getVideosFromIds=function(){var e=(0,o.default)(u.default.mark(function e(a,n){var r,c,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("videos",{access_token:n,part:"contentDetails, snippet, status",id:a.join(", "),maxResults:h});case 2:return r=e.sent,c=r.items,i=c.map(function(e){var t=e.id,a=e.contentDetails,n=e.snippet,r=e.status;return{videoId:t,title:n.title,thumbnails:n.thumbnails,duration:a.duration,publishedAt:n.publishedAt,channelId:n.channelId,channelTitle:n.channelTitle,privacyStatus:r.privacyStatus}}),e.abrupt("return",i);case 6:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}(),this.getPlaylists=function(){var e=(0,o.default)(u.default.mark(function e(a){var n,r,c,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("playlists",{access_token:a,pageToken:s,part:"snippet, contentDetails, status",mine:!0,maxResults:h});case 2:return n=e.sent,r=n.items,c=n.nextPageToken,i=n.pageInfo,e.abrupt("return",{items:r.map(function(e){var t=e.id,a=e.contentDetails,n=e.snippet,r=e.status;return{id:t,title:n.title,thumbnails:n.thumbnails,itemCount:a.itemCount,privacyStatus:r.privacyStatus}}),nextPageToken:c,totalResults:i.totalResults});case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),this.getPlaylistTitle=function(){var e=(0,o.default)(u.default.mark(function e(a,n){var r,c,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("playlists",{id:n,access_token:a,part:"snippet"});case 2:return r=e.sent,c=r.items,i=c[0].snippet.title,e.abrupt("return",{title:i});case 6:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}(),this.getPlaylistItems=function(){var e=(0,o.default)(u.default.mark(function e(a,n){var r,c,i,s,l,o,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("playlistItems",{access_token:a,playlistId:n,pageToken:d,part:"snippet, status",maxResults:h});case 2:return r=e.sent,c=r.items,i=r.nextPageToken,s=r.pageInfo,l=c.map(function(e){var t=e.snippet;return t.resourceId.videoId}),e.next=9,t.getVideosFromIds(l,a);case 9:return o=e.sent,e.abrupt("return",{items:o,nextPageToken:i,totalResults:s.totalResults});case 11:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}(),this.searchVideos=function(){var e=(0,o.default)(u.default.mark(function e(a,n,r,c){var i,s,l,o,d,f;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("search",{access_token:a,part:"snippet",type:"video",q:n,pageToken:r,maxResults:h});case 2:return i=e.sent,s=i.items,l=i.nextPageToken,o=i.pageInfo,d=s.map(function(e){var t=e.id;return t.videoId}),e.next=9,t.getVideosFromIds(d,a);case 9:return f=e.sent,e.abrupt("return",{items:f,nextPageToken:l,totalResults:o.totalResults});case 11:case"end":return e.stop()}},e,t)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.getVideo=function(){var e=(0,o.default)(u.default.mark(function e(a,n){var c,i,s,l,o,d,f;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("videos",{access_token:a,id:r(n),part:"contentDetails, snippet, status"});case 2:return c=e.sent,i=c.items,s=i[0],l=s.id,o=s.contentDetails,d=s.snippet,f=s.status,e.abrupt("return",{videoId:l,title:d.title,duration:o.duration,channelId:d.channelId,channelTitle:d.channelTitle,publishedAt:d.publishedAt,privacyStatus:f.privacyStatus});case 6:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}(),this.getSubscriptions=function(){var e=(0,o.default)(u.default.mark(function e(a){var n,r,c,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("subscriptions",{access_token:a,pageToken:s,part:"id, snippet, contentDetails",mine:!0,maxResults:h,order:"alphabetical"});case 2:return n=e.sent,r=n.items,c=n.nextPageToken,i=n.pageInfo,e.abrupt("return",{items:r.map(function(e){var t=e.id,a=e.contentDetails,n=e.snippet;return{id:t,channelId:n.resourceId.channelId,title:n.title,itemCount:a.totalItemCount}}),nextPageToken:c,totalResults:i.totalResults});case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),this.getChannelVideos=function(){var e=(0,o.default)(u.default.mark(function e(a,n,r){var c,i,s,l,o,d;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list("search",{access_token:a,part:"snippet",type:"video",channelId:n,pageToken:r,maxResults:h});case 2:return c=e.sent,i=c.items,s=c.nextPageToken,l=c.pageInfo,o=i.map(function(e){var t=e.id;return t.videoId}),e.next=9,t.getVideosFromIds(o,a);case 9:return d=e.sent,e.abrupt("return",{items:d,nextPageToken:s,totalResults:l.totalResults});case 11:case"end":return e.stop()}},e,t)}));return function(t,a,n){return e.apply(this,arguments)}}(),this.loadApi=function(){return new f.default(function(e,t){var a=setInterval(function(){gapi&&gapi.client&&(clearInterval(a),gapi.client.load("youtube","v3",function(){return e(gapi.client.youtube)}))},100)})}};t.default=new _},127:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(267),c=n(r),u=a(138),i=n(u),s=a(136),l=n(s),o=a(133),d=n(o),f=a(128),p=n(f),m=a(129),v=n(m);a(225);var h=ReactRedux,_=h.connect,E=function(e){var t=e.children,a=e.location,n=e.auth;return React.createElement(c.default,null,React.createElement("div",{className:"layout"},React.createElement(i.default,{path:a.pathname}),React.createElement("main",{className:"layout__content"},n.token?t:null),React.createElement(l.default,null),React.createElement(d.default,null),React.createElement(p.default,null),React.createElement(v.default,null)))},g=function(e){var t=e.auth;return{auth:t}};t.default=_(g)(E)},128:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=ReactRedux,n=a.connect,r=function(e){var t=e.notifications,a=e.dispatch,n=function e(n){var r=n.target,c=r.parentNode;c.classList.remove(t.className),c.addEventListener("transitionend",function(){r.removeEventListener("transitionend",e),a({type:"CLEAR_NOTIFICATIONS"})})};return React.createElement("div",{className:["notification",t.className||""].join(" ")},React.createElement("div",{className:"notification__content"},React.createElement("div",{className:"notification__text"},t.message||""),React.createElement("button",{className:"notification__action icon-button",onClick:n},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-close"}))))))},c=function(e){var t=e.notifications;return{notifications:t}};t.default=n(c)(r)},129:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(7),r=ReactRedux,c=r.connect,u=function(e){function t(e){e&&e.stopPropagation(),u({type:"PROMPT_CLOSE"}),setTimeout(function(){return u({type:"PROMPT_RESET"})},250)}function a(e){var a=e.target.querySelector("#videoId").value;e.preventDefault(),u((0,n.getVideo)(r.token,a)),t()}var r=e.auth,c=e.prompt,u=e.dispatch,i=c.form,s=c.isVisible,l=c.promptText,o=c.confirmText,d=c.cancelText,f=c.callback;return React.createElement("div",{className:["dialog__overlay",s?"dialog__overlay--show":""].join(" "),onClick:t},React.createElement("div",{className:"dialog shadow--2dp",onClick:function(e){return e.stopPropagation()}},React.createElement("div",{className:"dialog__content"},React.createElement("p",null,l)),i?React.createElement("form",{onSubmit:a},React.createElement("div",{className:"textfield"},React.createElement("input",{className:"textfield__input",type:"text",autoFocus:!0,placeholder:"URL/ID...",id:"videoId"})),React.createElement("div",{className:"dialog__actions"},React.createElement("button",{className:"button button--close",onClick:t},d),React.createElement("button",{type:"submit",className:"button"},o))):React.createElement("div",{className:"dialog__actions"},React.createElement("button",{className:"button button--close",onClick:t},d),React.createElement("button",{className:"button",onClick:f},o))))},i=function(e){var t=e.auth,a=e.prompt;return{auth:t,prompt:a}};t.default=c(i)(u)},130:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(29),c=a(80),u=n(c),i=a(7),s=a(83),l=n(s),o=ReactRedux,d=o.connect,f=function(e){function t(){d({type:"PLAYLIST_OPEN",data:c})}var a=e.auth,n=e.id,c=e.title,s=e.thumbnails,o=e.itemCount,d=(e.player,e.dispatch);return React.createElement("div",{className:"card shadow--2dp"},React.createElement(r.Link,{className:"card__content",to:"/playlist/"+n,onClick:t},React.createElement(u.default,{src:(0,l.default)(s),background:!0}),React.createElement("div",{className:"card__text"},React.createElement("h2",{className:"card__text-title"},c),React.createElement("p",{className:"card__text-subtitle nb-videos"},o+" Video"+(1!==o?"s":"")))),React.createElement("div",{className:"card__buttons"},React.createElement("button",{className:"card__button icon-button",type:"button",onClick:function(){return d((0,i.queuePlaylist)({token:a.token,playlistId:n}))}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-playlist-add"})))),React.createElement("button",{className:"card__button icon-button",type:"button",onClick:function(){return d((0,i.queuePlaylist)({token:a.token,playlistId:n,play:!0}))}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-playlist-play"}))))))},p=function(e){var t=e.auth,a=e.player;return{auth:t,player:a}};t.default=d(p)(f)},131:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(29),r=(a(7),ReactRedux),c=r.connect,u=function(e){var t=(e.id,e.channelId),a=e.title,r=e.itemCount;return e.dispatch,React.createElement("div",{className:"card shadow--2dp"},React.createElement(n.Link,{className:"card__content",to:"/channel/"+t},React.createElement("div",{className:"card__text"},React.createElement("h2",{className:"card__text-title"},a),React.createElement("p",{className:"card__text-subtitle"},r+" Video"+(1!==r?"s":"")))))},i=function(e){var t=e.auth,a=e.subscriptions;return{auth:t,subscriptions:a}};t.default=c(i)(u)},132:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(36),c=n(r),u=a(57),i=n(u),s=a(7),l=ReactRedux,o=l.connect,d=function(e){function t(){l((0,s.getChannelVideos)(n.token,u.id,o))}function a(){if(n.token&&2!==r.isLoading)return React.createElement(c.default,{onEnter:t,topOffset:1})}var n=e.auth,r=e.channel,u=e.params,l=e.dispatch,o=r.pages[r.pages.length-1]||"";return React.createElement("div",{className:"grid"},r.items.map(function(e,t){return React.createElement("div",{key:t,className:"grid__item"},React.createElement(i.default,{video:e}))}),React.createElement("div",{className:["grid__loading",n.token&&1===r.isLoading?"is-active":""].join(" ")},a(),React.createElement("svg",{className:"rotating"},React.createElement("use",{xlinkHref:"#icon-loading"}))))},f=function(e){var t=e.auth,a=e.channel;return{auth:t,channel:a}};t.default=o(f)(d)},133:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(170),c=n(r),u=a(37),i=n(u),s=a(31),l=n(s),o=a(39),d=n(o),f=a(41),p=n(f),m=a(40),v=n(m),h=a(141),_=n(h),E=a(143),g=n(E),y=a(144),R=n(y),b=a(148),S=n(b),k=a(146),N=n(k),T=a(147),I=n(T),C=a(145),P=n(C),x=ReactRedux,L=x.connect,O=function(e){function t(e){(0,l.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.isIframeReady=function(){return!!a.state.youtube},a.setVolume=function(e){var t=a.state.youtube;a.isIframeReady()&&(e>0&&t.unMute(),a.props.dispatch({type:"SET_VOLUME",data:e}),t.setVolume(e),a.setState({volume:e}))},a.handleWheelVolume=function(e){var t=e.deltaY,n=a.state.volume,r=void 0,c=void 0;a.isIframeReady()&&(r=t<0?n+5:n-5,c=r>=0&&r<=100,c&&a.setVolume(r))},a.setVideoTime=function(e){var t=e.target;if(a.isIframeReady()){var n=a.state.duration,r=n*(t.value/n);a.clearWatchers(),a.state.youtube.seekTo(r),a.setState({currentTime:r})}},a.toggleMute=function(){var e=a.state.isMuted;a.isIframeReady()&&(e?youtube.unMute():youtube.mute(),a.setState({isMuted:!e}))},a.togglePlay=function(){var e=a.state,t=e.isPlaying,n=e.youtube;if(a.isIframeReady())return t?n.pauseVideo():void n.playVideo()},a.goToVideo=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=a.props.player.queue,n=a.getCurrentVideo(),r=(0,c.default)(n,2),u=r[0],i=r[1],s=i+(e?1:-1);!u||s<0||s>t.length-1||(a.clearWatchers(),a.setState({currentTime:0,loaded:0}),a.props.dispatch({type:"QUEUE_SET_ACTIVE_ITEM",data:{index:s}}))},a.onYoutubeIframeReady=function(e){var t=e.target,n=a.props.player.volume;t.pauseVideo(),a.setState({youtube:t},function(){return a.setVolume(n)})},a.onYoutubeIframeStateChange=function(e){var t=e.data;switch(t){case-1:case 0:a.setState({isPlaying:!1});break;case 1:a.setState({isPlaying:!0,isBuffering:!1},function(){a.watchTime(),a.watchLoading()});break;case 2:a.clearWatchers(),a.setState({isPlaying:!1});break;case 3:a.clearWatchers(),a.setState({isBuffering:!0});break;case 5:a.togglePlay()}},a.state={isPlaying:!1,isBuffering:!1,isMuted:!1,showQueue:!1,showScreen:!1,showVolume:!1,volume:100,loaded:0,currentTime:0,duration:0,youtube:null,autoplay:0,timeWatcher:null,loadingWatcher:null},a}return(0,v.default)(t,e),(0,d.default)(t,[{key:"watchTime",value:function(){var e=this,t=this.state.youtube,a=t.getDuration();this.setState({duration:a});var n=setInterval(function(){var r=t.getCurrentTime();e.setState({currentTime:r}),r===a&&clearInterval(n)},250);this.setState({currentTime:t.getCurrentTime()}),this.setState({timeWatcher:n})}},{key:"watchLoading",value:function(){var e=this,t=this.state.youtube,a=setInterval(function(){var n=t.getVideoLoadedFraction();e.setState({loaded:n}),1===n&&clearInterval(a)},500);this.setState({loaded:t.getVideoLoadedFraction()}),this.setState({loadingWatcher:a})}},{key:"clearWatchers",value:function(){var e=this.state,t=e.timeWatcher,a=e.loadingWatcher;clearInterval(t),clearInterval(a)}},{key:"getCurrentVideo",value:function(){var e=this.props.player.queue,t=e.findIndex(function(e){return e.active}),a=e[t];return[a,t]}},{key:"render",value:function(){var e=this.handleWheelVolume,t=this.setVideoTime,a=this.togglePlay,n=this.goToVideo,r=this.onYoutubeIframeReady,u=this.onYoutubeIframeStateChange,i=this.state,s=i.isPlaying,l=i.isBuffering,o=i.isMuted,d=i.volume,f=i.loaded,p=i.currentTime,m=i.duration,v=this.props,h=v.player,E=v.dispatch,y=h.showQueue,b=h.showScreen,k=h.newQueueItems,T=this.getCurrentVideo(),C=(0,c.default)(T,1),x=C[0];return React.createElement("div",{className:"player__container"},React.createElement(_.default,{isPlaying:s,isBuffering:l,handleClickPlay:a}),React.createElement(g.default,{video:x,onReady:r,onEnd:n,onStateChange:u}),React.createElement("div",{className:"player shadow--2dp"},React.createElement("div",{className:"player__controls"},React.createElement(R.default,{className:"player__controls-button icon-button",onClick:function(){return n(!1)},icon:"icon-skip-previous"}),React.createElement(R.default,{className:"player__controls-button icon-button",onClick:a,icon:l?"icon-loading":s?"icon-pause":"icon-play",iconTransitionClass:l?"rotating":""}),React.createElement(R.default,{className:"player__controls-button icon-button",onClick:function(){return n(!0)},icon:"icon-skip-next"})),React.createElement("div",{className:"player__info"},React.createElement(P.default,{percentElapsed:p/m,percentLoaded:f}),React.createElement(I.default,{title:x?x.title:"No Video.",currentTime:p,duration:m}),React.createElement(N.default,{currentTime:p,duration:m}),React.createElement("input",{className:"player__info-progress-loaded",type:"range",min:"0",max:parseInt(m),onChange:t})),React.createElement("div",{className:"player__controls"},React.createElement(R.default,{className:["player__controls-button badge icon-button",y?"is-active":"",k?"badge--active":""].join(" "),onClick:function(){return E({type:y?"QUEUE_CLOSE":"QUEUE_OPEN"})},badge:k,icon:"icon-list"}),React.createElement(R.default,{className:["player__controls-button icon-button",b?"is-active":""].join(" "),onClick:function(){return E({type:b?"SCREEN_CLOSE":"SCREEN_OPEN"})},icon:"icon-film"}),React.createElement("div",{className:"player__controls-volume",onWheel:e},React.createElement(R.default,{className:"player__controls-button icon-button",icon:o?"icon-volume-mute":d>=50?"icon-volume-up":d>0&&d<=50?"icon-volume-down":"icon-volume-off"}),React.createElement(S.default,{value:d,onChange:function(e){var t=e.target;return setVolume(t.value)}})))))}}]),t}(React.Component),w=function(e){var t=e.player;return{player:t}};t.default=L(w)(O)},134:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(37),c=n(r),u=a(31),i=n(u),s=a(39),l=n(s),o=a(41),d=n(o),f=a(40),p=n(f),m=a(36),v=n(m),h=(a(29),a(57)),_=n(h),E=a(7),g=ReactRedux,y=g.connect,R=function(e){
function t(){var e,a,n,r;(0,i.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return a=n=(0,d.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(s))),n.loadMoreContent=function(){var e=n.props,t=e.dispatch,a=e.auth,r=e.params,c=e.playlistItems,u=c.pages[c.pages.length-1];t((0,E.getPlaylistItems)(a.token,r.id,u))},n.renderWaypoint=function(){var e=n.props,t=e.auth,a=e.playlistItems;if(t.token&&2!==a.isLoading)return React.createElement(v.default,{onEnter:n.loadMoreContent,topOffset:1})},r=a,(0,d.default)(n,r)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch,a=e.auth,n=e.params;t((0,E.getPlaylistTitle)(a.token,n.id))}},{key:"render",value:function(){var e=this.props,t=this.renderWaypoint,a=(e.auth,e.playlistItems);return e.dispatch,React.createElement("div",{className:"grid"},a.items.map(function(e,t){return React.createElement("div",{key:t,className:"grid__item"},React.createElement(_.default,{video:e}))}),React.createElement("div",{className:["grid__loading",1===a.isLoading?"is-active":""].join(" ")},t(),React.createElement("svg",{className:"rotating"},React.createElement("use",{xlinkHref:"#icon-loading"}))))}}]),t}(React.Component),b=function(e){var t=e.auth,a=e.playlistItems;return{auth:t,playlistItems:a}};t.default=y(b)(R)},135:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(36),c=n(r),u=a(130),i=n(u),s=a(7),l=ReactRedux,o=l.connect,d=function(e){function t(){u((0,s.getPlaylists)(n.token,l))}function a(){if(n.token&&2!==r.isLoading)return React.createElement(c.default,{onEnter:t,topOffset:1})}var n=e.auth,r=e.playlists,u=e.dispatch,l=r.pages[r.pages.length-1];return React.createElement("div",{className:"grid"},r.items.map(function(e,t){return React.createElement("div",{key:t,className:"grid__item"},React.createElement(i.default,e))}),React.createElement("div",{className:["grid__loading",n.token&&1===r.isLoading?"is-active":""].join(" ")},a(),React.createElement("svg",{className:"rotating"},React.createElement("use",{xlinkHref:"#icon-loading"}))))},f=function(e){var t=e.auth,a=e.playlists;return{auth:t,playlists:a}};t.default=o(f)(d)},136:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(36),c=n(r),u=a(57),i=n(u),s=a(7),l=ReactRedux,o=l.connect,d=function(e){function t(){u((0,s.searchVideos)(n.token,r.query,l))}function a(){if(l&&2!==r.isLoading)return React.createElement(c.default,{onEnter:t})}var n=e.auth,r=e.search,u=e.dispatch,l=r.pages[r.pages.length-1]||"";return React.createElement("div",{className:["search",r.isOpen?"search--show":"","shadow--2dp"].join(" ")},React.createElement("div",{className:"grid"},r.items.map(function(e,t){return React.createElement("div",{key:t,className:"grid__item"},React.createElement(i.default,{video:e}))}),React.createElement("div",{className:["grid__loading",1===r.isLoading?"is-active":""].join(" ")},a(),React.createElement("svg",{className:"rotating"},React.createElement("use",{xlinkHref:"#icon-loading"})))))},f=function(e){var t=e.auth,a=e.search;return{auth:t,search:a}};t.default=o(f)(d)},137:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(36),c=n(r),u=a(7),i=a(131),s=n(i),l=ReactRedux,o=l.connect,d=function(e){function t(){i((0,u.getSubscriptions)(n.token))}function a(){if(n.token&&2!==r.isLoading)return React.createElement(c.default,{onEnter:t,topOffset:1})}var n=e.auth,r=e.subscriptions,i=e.dispatch;return r.pages[r.pages.length-1],React.createElement("div",{className:"grid channels"},r.items.map(function(e,t){return React.createElement("div",{key:t,className:"grid__item"},React.createElement(s.default,e))}),React.createElement("div",{className:["grid__loading",n.token&&1===r.isLoading?"is-active":""].join(" ")},a(),React.createElement("svg",{className:"rotating"},React.createElement("use",{xlinkHref:"#icon-loading"}))))},f=function(e){var t=e.auth,a=e.subscriptions;return{auth:t,subscriptions:a}};t.default=o(f)(d)},138:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(29),c=a(79),u=(a(7),a(140)),i=n(u),s=a(139),l=n(s),o=a(81),d=(n(o),ReactRedux),f=d.connect,p=function(e){function t(){return a.token?(clearInterval(a.refreshWatcher),d({type:"UNLINK"}),void d({type:"NOTIFY",data:"Déconnecté."})):void d((0,c.logIn)())}var a=e.auth,n=e.playlistItems,u=e.player,s=e.search,o=e.path,d=e.dispatch,f="/"===o;return React.createElement("header",{className:"layout__header shadow--2dp"},u.showQueue?React.createElement(l.default,null):s.isOpen?React.createElement(i.default,null):React.createElement("div",{className:"layout__header-row"},f?null:React.createElement(r.Link,{className:"layout__back-button icon-button",to:"/"},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-back"})))),React.createElement("span",{className:"layout-title"},n.playlistTitle||"MicroTube"),React.createElement("nav",{className:"navigation"},React.createElement("button",{className:"navigation__link icon-button",onClick:function(){d({type:"SCREEN_CLOSE"}),d({type:"QUEUE_CLOSE"}),d({type:"SEARCH_OPEN"})}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-search"})))),React.createElement(r.Link,{className:"navigation__link icon-button",to:"/subscriptions"},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-subscriptions"})))),React.createElement("button",{className:"navigation__link icon-button",onClick:t},a.token?React.createElement("img",{src:a.user.picture}):React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-user"})))))))},m=function(e){var t=e.auth,a=e.playlistItems,n=e.player,r=e.search;return{auth:t,playlistItems:a,player:n,search:r}};t.default=f(m)(p)},139:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=ReactRedux,n=a.connect,r=function(e){var t=e.player,a=e.dispatch;return React.createElement("div",{className:"layout__header-row"},React.createElement("button",{className:"layout__back-button icon-button",onClick:function(){return a({type:"QUEUE_CLOSE"})}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-back"})))),React.createElement("span",{className:"layout-title"},"Queue ("+t.queue.length+" Items)"),React.createElement("nav",{className:"navigation"},React.createElement("button",{className:"navigation__link icon-button",onClick:function(){a({type:"PROMPT",data:{promptText:"Ajouter une vidéo",confirmText:"Ajouter",form:!0,callback:function(){a({type:"PROMPT_CLOSE"})}}})}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-add"})))),React.createElement("button",{className:"navigation__link icon-button",onClick:function(){a({type:"PROMPT",data:{promptText:"Vider la file d'attente ?",confirmText:"Vider",callback:function(){a({type:"QUEUE_CLEAR"}),a({type:"PROMPT_CLOSE"})}}})}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-clear"}))))))},c=function(e){var t=e.player;return{player:t}};t.default=n(c)(r)},140:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(81),c=n(r),u=ReactRedux,i=u.connect,s=function(e){var t=e.dispatch;return React.createElement("div",{className:"layout__header-row"},React.createElement("button",{className:"layout__back-button icon-button",onClick:function(){return t({type:"SEARCH_CLOSE"})}},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-back"})))),React.createElement(c.default,null))};t.default=i()(s)},141:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(37),c=n(r),u=a(31),i=n(u),s=a(39),l=n(s),o=a(41),d=n(o),f=a(40),p=n(f),m=a(84),v=(n(m),a(142)),h=n(v),_=ReactRedux,E=_.connect,g=function(e){function t(e){(0,i.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.dragStart=function(e){var t=e.currentTarget,n=e.dataTransfer;n.effectAllowed="move",n.setData("text/html",t),a.setState({dragged:t,container:t.parentNode,placeholder:a.getPlaceholder()})},a.dragEnd=function(){var e=a.state,t=e.data,n=e.dragged,r=e.over,c=e.placeholder,u=Number(n.dataset.id),i=Number(r.dataset.id);n.classList.remove("queue__item--hidden"),n.parentNode.removeChild(c),u<i&&i--,"after"==a.state.nodePlacement&&i++,t.splice(i,0,t.splice(u,1)[0]),a.props.dispatch({type:"QUEUE_SET",data:t})},a.dragOver=function(e){var t=e.target,n=e.pageY,r=a.state,c=r.dragged,u=r.container,i=r.placeholder,s=void 0,l=void 0;e.preventDefault(),c.classList.add("queue__item--hidden"),!t.classList.contains("queue__item--placeholder")&&t.getAttribute("draggable")&&(a.setState({over:t}),s=n-t.offsetTop,l=n-u.lastChild.offsetTop+t.offsetHeight/2,s<=l?(a.setState({nodePlacement:"after"}),u.insertBefore(i,t.nextElementSibling)):(a.setState({nodePlacement:"before"}),u.insertBefore(i,t)))},a.state={queue:e.player.queue},a}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({queue:e.player.queue})}},{key:"getPlaceholder",value:function(){var e=this.placeholder;return e||(e=document.createElement("div"),e.classList.add("queue__item","queue__item--placeholder")),e}},{key:"render",value:function(){var e=this.state,t=this.props,a=this.dragEnd,n=this.dragStart,r=this.dragOver,c=e.queue,u=t.player,i=t.isPlaying,s=t.isBuffering,l=t.handleClickPlay,o=t.dispatch,d=u.showQueue;return React.createElement("div",{className:["queue shadow--2dp",d?"queue--show":""].join(" "),onDragOver:r},c.length?c.map(function(e,t){var r=e.active,c=e.title;return React.createElement(h.default,{key:t,id:t,title:c,isActive:r,isBuffering:s,isPlaying:i,onDragStart:n,onDragEnd:a,onClick:function(){r?l():o({type:"QUEUE_SET_ACTIVE_ITEM",data:{index:t}})},onClickRemove:function(e){e.stopPropagation(),o({type:"QUEUE_REMOVE",data:t})}})},this):null)}}]),t}(React.Component),y=function(e){var t=e.player;return{player:t}};t.default=E(y)(g)},142:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=ReactRedux,n=a.connect,r=function(e){var t=(e.id,e.isActive),a=e.isPlaying,n=e.isBuffering,r=e.title,c=e.onClick,u=e.onClickRemove,i=e.onDragEnd,s=e.onDragStart;return e.player,React.createElement("div",{className:["queue__item",t?"queue__item--active":""].join(" "),onClick:c,onDragStart:s,onDragEnd:i,"data-title":r,draggable:!0},React.createElement("div",{className:"queue__item-button icon-button"},React.createElement("span",{className:["icon",t&&n?"rotating":""].join(" ")},t&&n?React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-loading"})):t&&a?React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-pause"})):React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-play"})))),React.createElement("button",{className:"queue__item-button icon-button",onClick:u},React.createElement("span",{className:"icon"},React.createElement("svg",null,React.createElement("use",{xlinkHref:"#icon-close"})))))},c=function(e){var t=e.player;return{player:t}};t.default=n(c)(r)},143:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(290),c=n(r),u=ReactRedux,i=u.connect,s=function(e){var t=e.player,a=e.video,n=e.onReady,r=e.onEnd,u=e.onStateChange,i=(e.dispatch,{playerVars:{autohide:1,modestbranding:1,iv_load_policy:3,autoplay:!0,controls:0,showinfo:0}});return React.createElement("div",{className:["screen shadow--2dp",t.showScreen?"screen--show":""].join(" ")},a?React.createElement(c.default,{className:"screen__content",videoId:a.videoId,opts:i,onReady:n,onEnd:r,onStateChange:u}):null)},l=function(e){var t=e.player;return{player:t}};t.default=i(l)(s)},144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){var t=e.className,a=e.icon,n=e.iconTransitionClass,r=void 0===n?"":n,c=e.badge,u=e.onClick;return React.createElement("button",{className:t,onClick:u,"data-badge":c},React.createElement("span",{className:["icon",r].join(" ")},React.createElement("svg",null,React.createElement("use",{xlinkHref:["#",a].join("")}))))};t.default=a},145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return parseFloat(100*e-100).toFixed(2)},n=function(e){var t=e.percentElapsed,n=e.percentLoaded;return React.createElement("div",{className:"player__info-progress"},React.createElement("div",{className:"player__info-progress-gutter"},React.createElement("div",{className:"player__info-progress-loaded",style:{transform:"translateX("+a(n)+"%)"}}),React.createElement("div",{className:"player__info-progress-played",style:{transform:"translateX("+a(t)+"%)"}})))};t.default=n},146:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(82),c=n(r),u=function(e){var t=e.currentTime,a=e.duration;return React.createElement("div",{className:"player__info-time"},React.createElement("span",null,(0,c.default)(t)),React.createElement("span",{className:"separator"},"/"),React.createElement("span",null,(0,c.default)(a)))};t.default=u},147:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(266),c=n(r),u=a(82),i=n(u),s=function(e){var t=e.title,a=e.currentTime,n=e.duration,r="Youtube Lite";return t&&(r=[t,"-",(0,i.default)(a),"/",(0,i.default)(n)].join(" ")),React.createElement(c.default,{title:r},React.createElement("div",{className:"player__info-title"},t))};t.default=s},148:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){var t=e.value,a=e.onChange;return React.createElement("div",{className:"player__controls-volume-range"},React.createElement("input",{type:"range",min:"0",max:"100",value:t,onChange:a}))};t.default=a},149:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){var e=function(){var e=a(),t=e.auth;t.refresh&&(0,u.refreshAccessToken)(t.refresh,function(e){e&&n({type:"OAUTH_REFRESH",data:{token:e}})})};setInterval(e,354e4),e()}var a=e.getState,n=e.dispatch;return React.createElement(c.Route,{path:"/",onEnter:t,component:s.default},React.createElement(c.IndexRoute,{component:o.default}),React.createElement(c.Route,{path:"/playlist/:id",component:f.default,onLeave:function(){return n({type:"CLEAR_PLAYLIST_ITEMS"})}}),React.createElement(c.Route,{path:"/subscriptions",component:m.default}),React.createElement(c.Route,{path:"/channel/:id",component:h.default,onLeave:function(){return n({type:"CLEAR_CHANNEL_VIDEOS"})}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var c=a(29),u=(a(7),a(79)),i=a(127),s=n(i),l=a(135),o=n(l),d=a(134),f=n(d),p=a(137),m=n(p),v=a(132),h=n(v)},150:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=h(f.default,e,_);return t}Object.defineProperty(t,"__esModule",{value:!0});var c=a(8),u=n(c);t.default=r;var i=a(308),s=n(i),l=a(305),o=n(l),d=a(153),f=n(d),p=Redux,m=p.applyMiddleware,v=p.compose,h=p.createStore,_=v(m(s.default),(0,o.default)(["auth","player"],{key:"ytlstate",slicer:function(e){return function(e){var t=e.auth,a=e.player,n=a.queue,r=a.volume,c=t.refresh,u=t.token,i=t.user;return{auth:{refresh:c,token:u,user:i},player:{queue:n,volume:r}}}},merge:function(e,t){return t?(0,u.default)({},e,{auth:(0,u.default)({},e.auth,t.auth),player:(0,u.default)({},e.player,t.player)}):e}}))},151:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),c=n(r);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],a=t.type,n=t.data;switch(a){case"OAUTH_SUCCESS":return n;case"OAUTH_REFRESH":var r=n.token;return(0,c.default)({},e,{token:r});case"UNLINK":return u}return e};var u={token:null,refresh:null,user:{},refreshWatcher:null}},152:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),c=n(r),u=a(8),i=n(u);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],a=t.type,n=t.data;switch(console.log(a,n),a){case"GET_CHANNEL_VIDEOS":return(0,i.default)({},e,{isLoading:1});case"GET_CHANNEL_VIDEOS_SUCCESS":var r=n.items,u=n.nextPageToken,l=n.totalResults,o="string"==typeof u&&!e.pages.includes(u),d="undefined"==typeof u,f=void 0;return o?f={items:[].concat((0,c.default)(e.items),(0,c.default)(r)),pages:[].concat((0,c.default)(e.pages),[u]),isLoading:0,totalResults:l}:d&&2!==e.isLoading&&(f={items:[].concat((0,c.default)(e.items),(0,c.default)(r)),isLoading:2}),(0,i.default)({},e,f);case"CLEAR_CHANNEL_VIDEOS":case"UNLINK_SUCCESS":return s}return e};var s={items:[],pages:[],isLoading:0,totalResults:0}},153:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(154),c=n(r),u=a(157),i=n(u),s=a(156),l=n(s),o=a(155),d=n(o),f=a(159),p=n(f),m=a(151),v=n(m),h=a(158),_=n(h),E=a(160),g=n(E),y=a(152),R=n(y),b=Redux,S=b.combineReducers;t.default=S({auth:v.default,notifications:c.default,playlists:i.default,playlistItems:l.default,player:d.default,search:p.default,prompt:_.default,subscriptions:g.default,channel:R.default})},154:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),c=n(r);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],a=t.type,n=t.data;switch(a){case"NOTIFY":return(0,c.default)({},e,{className:"notification--active",message:n});case"CLEAR_NOTIFICATIONS":return u}return e};var u={className:"",message:""}},155:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),c=n(r),u=a(8),i=n(u);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],a=t.type,n=t.data;switch(a){case"SCREEN_OPEN":return(0,i.default)({},e,{showScreen:!0,showQueue:!1});case"SCREEN_CLOSE":return(0,i.default)({},e,{showScreen:!1});case"QUEUE_OPEN":return(0,i.default)({},e,{showQueue:!0,showScreen:!1,newQueueItems:0});case"QUEUE_CLOSE":return(0,i.default)({},e,{showQueue:!1});case"QUEUE_PUSH":return(0,i.default)({},e,{queue:[].concat((0,c.default)(e.queue),(0,c.default)(n)),newQueueItems:e.newQueueItems+=n.length});case"QUEUE_REMOVE":return(0,i.default)({},e,{queue:e.queue.filter(function(e,t){return t!==n})});case"QUEUE_CLEAR":return(0,i.default)({},e,{queue:e.queue.filter(function(e){return e.active})});case"QUEUE_SET":return(0,i.default)({},e,{queue:n});case"QUEUE_SET_ACTIVE_ITEM":var r=e.queue,u=n.video,l=n.index;return u&&(l=r.length,r.push(u)),(0,i.default)({},e,{queue:r.map(function(e,t){return(0,i.default)({},e,{active:t===l})})});case"SET_VOLUME":return(0,i.default)({},e,{volume:n})}return e};var s={queue:[],showQueue:!1,showScreen:!1,volume:100,newQueueItems:0}},156:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),c=n(r),u=a(8),i=n(u);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],a=t.type,n=t.data;switch(a){case"PLAYLIST_OPEN":var r=n.playlistTitle;return(0,i.default)({},e,{playlistTitle:r});case"GET_PLAYLIST_TITLE":var u=n.title;return(0,i.default)({},e,{playlistTitle:u});case"GET_PLAYLIST":return(0,i.default)({},e,{isLoading:1});case"GET_PLAYLIST_SUCCESS":var l=n.items,o=n.nextPageToken,d=n.totalResults,f="string"==typeof o&&!e.pages.includes(o),p="undefined"==typeof o,m=void 0;return f?m={items:[].concat((0,c.default)(e.items),(0,c.default)(l)),pages:[].concat((0,c.default)(e.pages),[o]),isLoading:"undefined"==typeof o?2:0,totalResults:d}:p&&2!==e.isLoading&&(m={items:[].concat((0,c.default)(e.items),(0,c.default)(l)),isLoading:2}),(0,i.default)({},e,m);case"PLAYLIST_CLOSE":case"CLEAR_PLAYLIST_ITEMS":case"UNLINK_SUCCESS":return s}return e};var s={playlistTitle:"",items:[],pages:[],isLoading:0,totalResults:0}},157:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),c=n(r),u=a(8),i=n(u);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],a=t.type,n=t.data;switch(a){case"GET_PLAYLISTS":return(0,i.default)({},e,{isLoading:1});case"GET_PLAYLISTS_SUCCESS":var r=n.items,u=n.nextPageToken,l=n.totalResults,o="string"==typeof u&&!e.pages.includes(u),d="undefined"==typeof u,f={};return o?f={items:[].concat((0,c.default)(e.items),(0,c.default)(r)),pages:[].concat((0,c.default)(e.pages),[u]),isLoading:0,totalResults:l}:d&&2!==e.isLoading&&(f={items:[].concat((0,c.default)(e.items),(0,c.default)(r)),isLoading:2}),(0,i.default)({},e,f);case"CLEAR_PLAYLISTS":case"UNLINK_SUCCESS":return s}return e};var s={items:[],pages:[],isLoading:0,totalResults:0}},158:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),c=n(r);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],a=t.type,n=t.data;switch(a){case"PROMPT_RESET":return u;case"PROMPT":return(0,c.default)({},e,{isVisible:!0},n);case"PROMPT_CLOSE":return(0,c.default)({},e,{isVisible:!1})}return e};var u={form:!1,isVisible:!1,promptText:"",confirmText:"",cancelText:"Annuler",callback:function(){}}},159:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),c=n(r),u=a(8),i=n(u);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],a=t.type,n=t.data;switch(a){case"SEARCH_OPEN":return(0,i.default)({},e,{isOpen:!0});case"SEARCH_VIDEOS":var r=n.query,u=r!==e.query;return(0,i.default)({},e,{items:u?[]:e.items,pages:u?[]:e.pages,isLoading:1,query:r});case"SEARCH_VIDEOS_SUCCESS":var l=n.items,o=n.nextPageToken,d=n.totalResults,f=void("string"==typeof o&&!e.pages.includes(o));return f={items:[].concat((0,c.default)(e.items),(0,c.default)(l)),pages:[].concat((0,c.default)(e.pages),[o]),isLoading:0,totalResults:d},(0,i.default)({},e,f);case"SEARCH_CLOSE":return s}return e};var s={isOpen:!1,items:[],pages:[],isLoading:0,totalResults:0,query:""}},160:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),c=n(r),u=a(8),i=n(u);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],a=t.type,n=t.data;switch(a){case"GET_SUBSCRIPTIONS":return(0,i.default)({},e,{isLoading:1});case"GET_SUBSCRIPTIONS_SUCCESS":var r=n.items,u=n.nextPageToken,l=n.totalResults,o="string"==typeof u&&!e.pages.includes(u),d="undefined"==typeof u,f=void 0;return o?f={items:[].concat((0,c.default)(e.items),(0,c.default)(r)),pages:[].concat((0,c.default)(e.pages),[u]),isLoading:0,totalResults:l}:d&&2!==e.isLoading&&(f={items:[].concat((0,c.default)(e.items),(0,c.default)(r)),isLoading:2}),(0,i.default)({},e,f);case"CLEAR_SUBSCRIPTIONS":case"UNLINK_SUCCESS":return s}return e};var s={items:[],pages:[],isLoading:0}},225:function(e,t){}});